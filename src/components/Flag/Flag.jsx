import React from 'react'
import "./Flag.css"
import FlagItem from "./FlagItem/FlagItem"
import Helmet from "../utils/Helmet/Helmet"

const Flag = () => {
  const noti = [
    {
      status:"success",
      title: "Good news, everyone",
      desc:"Nothing to worry about, everything is going great!",
      svg: <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect width="24" height="24" fill="white" fillOpacity="0.01"/>
              <path fillRule="evenodd" clipRule="evenodd" d="M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM9.3824 11.0689C9.50441 11.1213 9.61475 11.1975 9.707 11.293L11 12.586L14.293 9.29302C14.3852 9.19751 14.4956 9.12133 14.6176 9.06892C14.7396 9.01651 14.8708 8.98892 15.0036 8.98777C15.1364 8.98662 15.2681 9.01192 15.391 9.0622C15.5138 9.11248 15.6255 9.18673 15.7194 9.28063C15.8133 9.37452 15.8875 9.48617 15.9378 9.60907C15.9881 9.73196 16.0134 9.86364 16.0122 9.99642C16.0111 10.1292 15.9835 10.2604 15.9311 10.3824C15.8787 10.5044 15.8025 10.6148 15.707 10.707L11.707 14.707C11.5195 14.8945 11.2652 14.9998 11 14.9998C10.7348 14.9998 10.4805 14.8945 10.293 14.707L8.293 12.707C8.19749 12.6148 8.1213 12.5044 8.0689 12.3824C8.01649 12.2604 7.9889 12.1292 7.98775 11.9964C7.98659 11.8636 8.0119 11.732 8.06218 11.6091C8.11246 11.4862 8.18671 11.3745 8.2806 11.2806C8.3745 11.1867 8.48615 11.1125 8.60904 11.0622C8.73194 11.0119 8.86362 10.9866 8.9964 10.9878C9.12918 10.9889 9.2604 11.0165 9.3824 11.0689Z" fill="#36B37E"/>
            </svg>
    },
    {
      status:"warning",
      title: "Uh oh!",
      desc:"Pay attention to me, things are not going according to plan.",
      svg: <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="24" height="24" fill="white" fillOpacity="0.01"/>
            <path fillRule="evenodd" clipRule="evenodd" d="M13.31 5.343L20.669 18.513C20.7539 18.6652 20.7975 18.8369 20.7955 19.0111C20.7936 19.1853 20.7462 19.356 20.658 19.5063C20.5698 19.6565 20.4438 19.7811 20.2926 19.8677C20.1414 19.9543 19.9702 19.9999 19.796 20H4.204C4.02962 20 3.85826 19.9544 3.70694 19.8678C3.55561 19.7811 3.42957 19.6564 3.34133 19.506C3.25309 19.3556 3.20571 19.1848 3.2039 19.0104C3.20209 18.836 3.2459 18.6642 3.331 18.512L10.691 5.343C10.8212 5.11023 11.0112 4.91641 11.2413 4.7815C11.4714 4.64659 11.7333 4.57547 12 4.57547C12.2667 4.57547 12.5286 4.64659 12.7587 4.7815C12.9888 4.91641 13.1788 5.11023 13.309 5.343H13.31ZM12 8.5C11.8442 8.49998 11.6902 8.53333 11.5484 8.5978C11.4066 8.66227 11.2802 8.75636 11.1778 8.87374C11.0754 8.99113 10.9993 9.12908 10.9547 9.27833C10.91 9.42758 10.8979 9.58465 10.919 9.739L11.432 13.505C11.4503 13.6427 11.518 13.769 11.6225 13.8605C11.727 13.952 11.8611 14.0025 12 14.0025C12.1389 14.0025 12.273 13.952 12.3775 13.8605C12.482 13.769 12.5497 13.6427 12.568 13.505L13.081 9.739C13.1021 9.58465 13.09 9.42758 13.0453 9.27833C13.0007 9.12908 12.9246 8.99113 12.8222 8.87374C12.7198 8.75636 12.5934 8.66227 12.4516 8.5978C12.3098 8.53333 12.1558 8.49998 12 8.5ZM12 17.13C12.2984 17.13 12.5845 17.0115 12.7955 16.8005C13.0065 16.5895 13.125 16.3034 13.125 16.005C13.125 15.7066 13.0065 15.4205 12.7955 15.2095C12.5845 14.9985 12.2984 14.88 12 14.88C11.7016 14.88 11.4155 14.9985 11.2045 15.2095C10.9935 15.4205 10.875 15.7066 10.875 16.005C10.875 16.3034 10.9935 16.5895 11.2045 16.8005C11.4155 17.0115 11.7016 17.13 12 17.13Z" fill="#FFAB00"/>
            </svg>
    },
    {
      status:"error",
      title: "Canâ€™t connect",
      desc:"You need to take action, something has gone terribly wrong!",
      svg: <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="24" height="24" fill="white" fillOpacity="0.01"/>
            <path fillRule="evenodd" clipRule="evenodd" d="M12.7664 3.98276C13.0093 4.08343 13.2301 4.23099 13.416 4.41701L19.584 10.584C19.7702 10.7699 19.9179 10.9907 20.0186 11.2338C20.1194 11.4769 20.1712 11.7374 20.1712 12.0005C20.1712 12.2636 20.1194 12.5242 20.0186 12.7672C19.9179 13.0103 19.7702 13.2311 19.584 13.417L13.416 19.584C13.2301 19.77 13.0093 19.9176 12.7664 20.0183C12.5234 20.1189 12.263 20.1707 12 20.1707C11.737 20.1707 11.4766 20.1189 11.2336 20.0183C10.9907 19.9176 10.7699 19.77 10.584 19.584L4.416 13.417C4.22984 13.2311 4.08215 13.0103 3.98138 12.7672C3.88062 12.5242 3.82875 12.2636 3.82875 12.0005C3.82875 11.7374 3.88062 11.4769 3.98138 11.2338C4.08215 10.9907 4.22984 10.7699 4.416 10.584L10.584 4.41701C10.7699 4.23099 10.9907 4.08343 11.2336 3.98276C11.4766 3.88208 11.737 3.83026 12 3.83026C12.263 3.83026 12.5234 3.88208 12.7664 3.98276ZM11.2929 13.7071C11.4804 13.8946 11.7348 14 12 14C12.2652 14 12.5196 13.8946 12.7071 13.7071C12.8946 13.5196 13 13.2652 13 13V8C13 7.73478 12.8946 7.48043 12.7071 7.29289C12.5196 7.10536 12.2652 7 12 7C11.7348 7 11.4804 7.10536 11.2929 7.29289C11.1054 7.48043 11 7.73478 11 8V13C11 13.2652 11.1054 13.5196 11.2929 13.7071ZM11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16C13 15.7348 12.8946 15.4804 12.7071 15.2929C12.5196 15.1054 12.2652 15 12 15C11.7348 15 11.4804 15.1054 11.2929 15.2929C11.1054 15.4804 11 15.7348 11 16C11 16.2652 11.1054 16.5196 11.2929 16.7071Z" fill="#FF5630"/>
            </svg>
    },
    {
      status:"info",
      title: "Hey, did you know...",
      desc:"This alert needs your attention, but its not super important.",
      svg: <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="24" height="24" fill="white" fillOpacity="0.01"/>
            <path fillRule="evenodd" clipRule="evenodd" d="M12 22C6.477 22 2 17.523 2 12C2 6.477 6.477 2 12 2C17.523 2 22 6.477 22 12C22 17.523 17.523 22 12 22ZM13 8C13 8.55228 12.5523 9 12 9C11.4477 9 11 8.55228 11 8C11 7.44772 11.4477 7 12 7C12.5523 7 13 7.44772 13 8ZM12 10C12.5523 10 13 10.4477 13 11V16C13 16.5523 12.5523 17 12 17C11.4477 17 11 16.5523 11 16V11C11 10.4477 11.4477 10 12 10Z" fill="#6554C0"/>
            </svg>
    },
  ]

  const toast = ({status,duration}) => {
    const currentToast =  document.querySelector(`.flag-item.${status}`)
    currentToast.classList.add("active")

    //auto remove toast
    const autoClose = setTimeout(() => {
      currentToast.classList.remove("active")
    },duration + 1000)

    // click remove toast
      currentToast.onclick = (e) => {
        if(e.target.closest(".flag-close") || e.target.closest(".feedback-item")) {
          currentToast.classList.remove("active")
          clearTimeout(autoClose)
        }
      }
  }

  const handleGetNoti = (e) => {
    toast({
      status: e.target.name,
      duration: 3000,
    })
  }
  return (
    <Helmet title="Flag">
        <div className="flag">
            <div className="notifications">
                  {
                    noti.map((item,index) => (
                      <div key={index}>
                        <FlagItem options={item}/>
                      </div>
                    ))
                  }
            </div>
            <div className="flag-container">
              <div className="flag-button">
                <button name="success" onClick={(e) => handleGetNoti(e)}>success</button>
                <button name="warning" onClick={(e) => handleGetNoti(e)}>warning</button>
                <button name="error" onClick={(e) => handleGetNoti(e)}>error</button>
                <button name="info" onClick={(e) => handleGetNoti(e)}>info</button>
              </div>
            </div>
        </div>
    </Helmet>
  )
}

export default Flag